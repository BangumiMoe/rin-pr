<md-content>
    <section>
        <md-toolbar md-scroll-shrink md-theme="purple">
            <div class="inner-header">
                <md-tabs md-selected="data.selectedIndex" md-theme="purple" class="md-tabs-full-height">
                    <md-tab id="tab1" aria-controls="tab1-content">
                        {{ availableDays[0] | translate }}
                    </md-tab>
                    <md-tab id="tab2" aria-controls="tab2-content">
                        {{ availableDays[1] | translate }}
                    </md-tab>
                    <md-tab id="tab3" aria-controls="tab3-content">
                        {{ availableDays[2] | translate }}
                    </md-tab>
                </md-tabs>
            </div>
        </md-toolbar>
        <div class="inner-content">
            <ng-switch on="data.selectedIndex" class="tabpanel-container">
                <div role="tabpanel" id="tab1-content" aria-labelledby="tab1" ng-switch-when="0" md-swipe-left="next()" md-swipe-right="previous()" layout-align="space-around center" class="bangumi-list">
                    <md-item ng-repeat="bangumi in showList[0] track by $index">
                        <md-button class="md-raised bangumi-list-item tags-button" ui-sref="tag({ tag_id: bangumi.tag_id })">{{ bangumi.name }}</md-button>
                    </md-item>
                </div>
                <div role="tabpanel" id="tab2-content" aria-labelledby="tab2" ng-switch-when="1" md-swipe-left="next()" md-swipe-right="previous()" layout-align="space-around center" class="bangumi-list">
                    <md-item ng-repeat="bangumi in showList[1] track by $index">
                        <md-button class="md-raised bangumi-list-item tags-button" ui-sref="tag({ tag_id: bangumi.tag_id })">{{ bangumi.name }}</md-button>
                    </md-item>
                </div>
                <div role="tabpanel" id="tab3-content" aria-labelledby="tab3" ng-switch-when="2" md-swipe-left="next()" md-swipe-right="previous()" layout-align="space-around center" class="bangumi-list">
                    <md-item ng-repeat="bangumi in showList[2] track by $index">
                        <md-button class="md-raised bangumi-list-item tags-button" ui-sref="tag({ tag_id: bangumi.tag_id })">{{ bangumi.name }}</md-button>
                    </md-item>
                </div>
            </ng-switch>
        </div>
    </section>
    <section>
        <md-toolbar md-scroll-shrink md-theme="pink">
            <div class="md-toolbar-tools inner-header">
                <h3>
                    <span>{{ 'Bangumi Timeline' | translate }}</span>
                </h3>
            </div>
        </md-toolbar>
        <div id="bangumi-timeline-embed"></div>
    </section>
    <section>
        <md-toolbar md-scroll-shrink md-theme="deep-orange">
            <div class="md-toolbar-tools inner-header">
                <h3>
                    <span>{{ 'Latest torrents' | translate }}</span>
                </h3>
            </div>
        </md-toolbar>
        <div class="inner-content">
            <md-list class="torrent-list">
                <md-item ng-repeat="torrent in latestTorrents" >
                    <md-item-content class="md-item-raised" ng-click="showTorrentDetailsDialog($event, torrent)">
                        <div class="md-tile-left">
                            <img ng-src="/{{torrent.team.icon}}" alt="{{torrent.team.name}}" ng-if="torrent.team.icon" />
                            <img ng-src="/avatar/{{torrent.uploader.email | gravatar}}" alt="" ng-if="!torrent.team.icon" />
                        </div>
                        <div class="md-tile-content" style="padding: 0.5em 2em 0.5em 2.2em; margin: 0">
                            <div layout="row" layout-align="space-between center">
                                <div flex="70">
                                    <h3 class="md-item-raised-title"><span>{{ torrent.title }}</span></h3>
                                    <p>
                                        {{ torrent.uploader.username }} {{ 'Published at' | translate }} {{ torrent.publish_time | amDateFormat:'YYYY/MM/DD HH:mm:ss' | amCalendar }}
                                    </p>
                                </div>
                                <div flex="30">
                                    <div layout="row" layout-align="space-around center">
                                        <div flex="25" class="torrent-list-stats">
                                            <div layout="column" layout-align="space-around center">
                                                <div>
                                                    <i class="fa fa-download"></i>
                                                </div>
                                                <div ng-model="torrent.downloads">
                                                    {{ torrent.downloads }}
                                                </div>
                                            </div>
                                        </div>
                                        <div flex="25" class="torrent-list-stats">
                                            <div layout="column" layout-align="space-around center">
                                                <div>
                                                    <i class="fa fa-cloud-download"></i>
                                                </div>
                                                <div>
                                                    {{ torrent.leechers }}
                                                </div>
                                            </div>
                                        </div>
                                        <div flex="25" class="torrent-list-stats">
                                            <div layout="column" layout-align="space-around center">
                                                <div>
                                                    <i class="fa fa-cloud-upload"></i>
                                                </div>
                                                <div>
                                                    {{ torrent.seeders }}
                                                </div>
                                            </div>
                                        </div>
                                        <div flex="25" class="torrent-list-stats">
                                            <div layout="column" layout-align="space-around center">
                                                <div>
                                                    <i class="fa fa-check"></i>
                                                </div>
                                                <div>
                                                    {{ torrent.finished }}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </md-item-content>
                    <md-divider md-inset ng-if="!$last"></md-divider>
                </md-item>
            </md-list>
        </div>
    </section>
    <div style="float: left; margin: 1em 2em">
        {{ 'Current language' | translate }}
        <md-button ng-click="switchLang('zh_tw')">zh_tw</md-button>
        <md-button ng-click="switchLang('en')">en</md-button>
    </div>
</md-content>
