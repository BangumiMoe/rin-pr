<md-dialog aria-label="Torrent details" class="torrent-details-dialog">
    <md-subheader class="md-sticky-no-effect">
        {{ 'Torrent Details' | translate }}
        <md-button class="md-dialog-close" ng-click="close()"><i class="fa fa-close"></i></md-button>
        <md-button class="md-dialog-edit" ng-click="edit($event)" ng-show="user._id == torrent.uploader_id"><i class="fa fa-edit"></i></md-button>
    </md-subheader>

    <md-content>
        <div class="torrent-details-content">
            <div layout="column" layout-align="space-around">
                <div layout="column" layout-align="space-around" class="torrent-details-div">
                    <div class="torrent-info" layout="row">
                        <b>{{ torrent.title }}</b>&nbsp;&nbsp;
                    </div>
                    <div class="torrent-info" layout="row" ng-show="torrent.tags">
                      <ul class="torrent-tags">
                        <li ng-repeat="tag in torrent.tags">
                          <md-button class="md-warn" ui-sref="tag({ tag_id: tag._id })">{{ tag.name }}</md-button>
                        </li>
                      </ul>
                    </div>
                    <md-divider></md-divider>
                    <div class="torrent-details-div" layout="row" layout-align="space-around center">
                        <div>
                            <i class="fa fa-download"></i> <span ng-model="torrent.downloads">{{ torrent.downloads }}</span>
                        </div>
                        <div>
                            <i class="fa fa-cloud-download"></i> {{ torrent.leechers }}
                        </div>
                        <div>
                            <i class="fa fa-cloud-upload"></i> {{ torrent.seeders }}
                        </div>
                        <div>
                            <i class="fa fa-check"></i> {{ torrent.finished }}
                        </div>
                    </div>
                    <md-divider></md-divider>
                    <div class="torrent-info">
                        {{ torrent.uploader.username }}
                        <span ng-show="torrent.team">@[{{ torrent.team.name }}]</span>
                        {{ 'submitted' | translate }} {{ torrent.publish_time | amDateFormat:'YYYY/MM/DD HH:mm:ss' | amCalendar }}
                    </div>
                    <md-divider></md-divider>
                    <div class="torrent-info">
                        <div class="torrent-introduction" ng-bind-html="torrent.introduction | to_trusted"></div>
                        <md-divider ng-show="torrent.team.signature"></md-divider>
                        <div class="team-signature" ng-if="torrent.team.signature" ng-bind-html="torrent.team.signature | to_trusted"></div>
                    </div>
                    <md-divider></md-divider>
                    <div class="torrent-info">
                        <b>{{ 'torrent content' | translate }}</b>
                        <md-button ng-click="fileContainerSwitch()" ng-show="!fileContainer">{{ 'expand' | translate }}</md-button>
                        <md-button ng-click="fileContainerSwitch()" ng-show="fileContainer">{{ 'collapse' | translate }}</md-button>
                        <br/>
                        <md-list ng-show="fileContainer">
                            <md-item ng-repeat="file in torrent.content">
                                {{ file }}<br/>
                                <md-divider ng-if="!$last"></md-divider>
                            </md-item>
                        </md-list>
                    </div>
                </div>
            </div>
        </div>
    </md-content>
    <div class="md-actions" layout="row">
        <md-button class="md-raised md-primary" ng-click="downloadTorrent(torrent)" style="float: right;"><i class="fa fa-file"></i> {{ 'Torrent' | translate }}</md-button>
        <md-button class="md-raised md-warn" href="{{ torrent.magnet }}" style="float: right;"><i class="fa fa-magnet"></i> {{ 'magnet' | translate }}</md-button>
    </div>
</md-dialog>
